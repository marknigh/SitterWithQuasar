(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"013f":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",[o("q-page-container",[o("q-page",{staticClass:"flex flex-center"},[o("q-card",{staticClass:"my-card",attrs:{flat:""}},[o("q-card-section",[o("h4",{staticClass:"text-center text-weight-thin"},[t._v("Warson Woods Jobs")])]),o("q-card-section",[o("q-input",{attrs:{type:"email",label:"Username"},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-icon",{attrs:{name:"eva-person-outline"}})]},proxy:!0}]),model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("q-input",{attrs:{type:"password",label:"Password"},scopedSlots:t._u([{key:"before",fn:function(){return[o("q-icon",{attrs:{name:"eva-lock-outline"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.loginError?o("q-banner",{staticClass:"text-white bg-red",attrs:{dense:""}},[t._v(" Login Error ")]):t._e(),o("q-card-actions",[o("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Login",loading:t.loading},on:{click:function(e){return t.loginUser()}}})],1),o("div",{staticClass:"text-center"},[t._v("Don't have an Account? "),o("router-link",{attrs:{to:"/register-local-user"}},[t._v("Create One")])],1),o("div",{staticClass:"row"},[o("div",{staticClass:"col q-pt-sm"},[o("q-separator")],1),o("div",{staticClass:"col text-center"},[t._v("OR")]),o("div",{staticClass:"col q-pt-sm"},[o("q-separator")],1)]),o("q-card-actions",[o("google-login-mobile")],1),o("q-card-actions",[o("facebook-login-mobile")],1)],1)],1)],1)],1)},r=[],a=o("5f87"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-btn",{staticClass:"full-width",attrs:{loading:t.loading,color:"red",icon:"eva-google",left:"",label:"Login with Google"},on:{click:t.loginWithGoogle}})},s=[],c=o("c2a8"),l={name:"GoogleLoginMobile",data:function(){return{loading:!1}},methods:{loginWithGoogle:function(){var t=this;this.loading=!0,Object(c["a"])("google.com").subscribe((function(e){Object(a["a"])(e.uid).then((function(o){o.empty?(t.$q.localStorage.set("reg_email",e.email),t.$q.localStorage.set("reg_uid",e.uid),t.loading=!1,t.$router.push("/register-user-type")):o.forEach((function(e){console.log("doc: ",e.data()),t.$store.commit("setUserKey",e.id),t.$store.commit("setCurrentUser",e.data()),t.$store.commit("setCurrentLocation","Home"),t.loading=!1,"sitter"===e.data().type?t.$router.push("/sitter"):t.$router.push("/parent")}))}))}))}}},u=l,d=o("2877"),g=Object(d["a"])(u,i,s,!1,null,null,null),f=g.exports,m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-btn",{staticClass:"full-width",attrs:{loading:t.loading,color:"blue",icon:"eva-facebook",left:"",label:"Login with Facebook"},on:{click:t.loginWithFacebook}})},b=[],h={name:"FacebookLoginMobile",data:function(){return{loading:!1}},methods:{loginWithFacebook:function(){var t=this;this.loading=!0,Object(c["a"])("facebook.com").subscribe((function(e){Object(a["a"])(e.uid).then((function(o){o.empty?(t.$q.localStorage.set("reg_email",e.email),t.$q.localStorage.set("reg_uid",e.uid),t.loading=!1,t.$router.push("/register-user-type")):o.forEach((function(e){t.$store.commit("setUserKey",e.id),t.$store.commit("setCurrentUser",e.data()),t.loading=!1,"sitter"===e.data().type?t.$router.push("/sitter"):t.$router.push("/parent")}))}))})).catch((function(){t.loginError=!0}))}}},p=h,v=Object(d["a"])(p,m,b,!1,null,null,null),q=v.exports,w={name:"Login",data:function(){return{username:"",password:"",loading:!1,loginError:!1}},components:{"google-login-mobile":f,"facebook-login-mobile":q},methods:{loginUser:function(){var t=this;this.loading=!0,Object(a["b"])(this.username,this.password).then((function(e){Object(a["a"])(e.user.uid).then((function(e){e.forEach((function(e){t.$store.commit("setUserKey",e.id),t.$store.commit("setCurrentUser",e.data()),t.$store.commit("setCurrentLocation","Home"),"sitter"===e.data().type?t.$router.push("/sitter"):t.$router.push("/parent")}))})),t.loading=!1})).catch((function(e){console.error("error: ",e),t.loading=!1,t.loginError=!0}))}}},$=w,k=(o("1139"),Object(d["a"])($,n,r,!1,null,null,null));e["default"]=k.exports},1139:function(t,e,o){"use strict";var n=o("13df"),r=o.n(n);r.a},"13df":function(t,e,o){},"5f87":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"a",(function(){return s})),o.d(e,"c",(function(){return c}));var n=o("2591"),r=o("fc1b"),a=o("c2a8");new n["a"].auth.GoogleAuthProvider,new n["a"].auth.FacebookAuthProvider;function i(t,e){return n["a"].auth().signInWithEmailAndPassword(t,e)}function s(t){return r["b"].collection("Users").where("authKey","==",t).get()}function c(){Object(a["b"])().subscribe()}}}]);