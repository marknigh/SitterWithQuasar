(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"0f35":function(t,e,n){"use strict";function a(t){var e=t.substring(0,2);if(e>12){var n=e-12,a="0"+n+t.substring(2)+" pm";return a}var r=t+" am";return r}n.d(e,"a",(function(){return a}))},7234:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(" "+t._s(t.name))])},r=[],i=n("a34a"),s=n.n(i),o=(n("7f7f"),n("96cf"),n("c973")),c=n.n(o),l=n("fc1b"),u={name:"GetParentName",props:["parentID"],data:function(){return{name:""}},created:function(){var t=this;return c()(s.a.mark((function e(){var n,a;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["b"].collection("Users").doc(t.parentID);case 2:return n=e.sent,e.next=5,n.get();case 5:a=e.sent,a.exists?t.name=a.data().name:t.name="Unknown";case 7:case"end":return e.stop()}}),e)})))()}},p=u,d=n("2877"),v=Object(d["a"])(p,a,r,!1,null,null,null);e["a"]=v.exports},c577:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{attrs:{padding:""}},[0==t.isLoading?n("q-card",{attrs:{flat:""}},[n("q-card-section",[n("div",{staticClass:"text-h6 text-center"},[n("parent-name",{attrs:{parentID:t.viewJob.parentID}})],1),n("div",{staticClass:"text-subtitle1 text-center"},[t._v("\n        "+t._s(t.viewJob.title)+"\n      ")]),n("div",{staticClass:"text-subtitle2 text-center"},[n("q-icon",{attrs:{name:"eva-edit-outline"}}),t._v(" "+t._s(t.viewJob.description)+"\n      ")],1),n("div",{staticClass:"text-center"},[n("q-icon",{attrs:{name:"eva-calendar-outline"}}),t._v(" "+t._s(t.sDateDisplay)+" â€¢\n        "),n("q-icon",{attrs:{name:"eva-clock-outline"}}),t._v(" "+t._s(t.convertTime(t.viewJob.startTime))+"\n      ")],1)]),n("q-separator"),t.viewJob.applied.length>0?n("div",{staticClass:"row q-pt-md text-center"},[n("p",{staticClass:"bg-warning full-width text-white text-subtitle2"},[t._v(" APPLIED ")])]):t._e(),n("div",{staticClass:"row"},t._l(t.viewJob.applied,(function(e,a){return n("div",{key:a},[n("who-applied",{key:t.componentKey,attrs:{who:e,job:t.viewJob}})],1)})),0),t.viewJob.awarded?t._e():n("div",{staticClass:"row q-pa-md"},[t.viewJob.applied.includes(t.sitterKey)?n("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Remove Me"},on:{click:function(e){return t.unApply()}}}):n("q-btn",{staticClass:"full-width",attrs:{color:"primary",label:"Apply"},on:{click:function(e){return t.apply()}}})],1)],1):t._e()],1)},r=[],i=n("a34a"),s=n.n(i),o=(n("96cf"),n("c973")),c=n.n(o),l=n("7234"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return 0==t.isLoading?n("div",{staticClass:"row"},[this.who===t.job.awarded?n("q-chip",{attrs:{"icon-right":"eva-award-outline"}},[n("q-avatar",[n("img",{attrs:{src:t.sitter.photoURL}})]),t._v("\n    "+t._s(t.sitter.name)+"\n  ")],1):n("q-chip",[n("q-avatar",[n("img",{attrs:{src:t.sitter.photoURL}})]),t._v("\n    "+t._s(t.sitter.name)+"\n  ")],1)],1):t._e()},p=[],d=n("fc1b"),v={name:"WhoApplied",props:{who:{type:String},job:{type:Object}},data:function(){return{sitter:{},isLoading:!0}},created:function(){this.getSitterInfo()},methods:{getSitterInfo:function(){var t=this;return c()(s.a.mark((function e(){var n;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["b"].collection("Users").doc(t.who).get();case 3:n=e.sent,t.sitter=n.data(),t.sitter.id=n.id,t.isLoading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},w=v,b=n("2877"),f=Object(b["a"])(w,u,p,!1,null,null,null),h=f.exports,m=n("0f35"),x=n("bd4c"),g=n("2591"),J={name:"ViewJob",components:{"parent-name":l["a"],"who-applied":h},data:function(){return{viewJob:{},sitterKey:this.$store.getters.getKey,sDateDisplay:null,isLoading:!0,componentKey:0}},beforeRouteUpdate:function(t,e,n){t.path!==e.path&&this.getJob(t.params.id),n()},created:function(){var t=this;return c()(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getJob(t.$route.params.id);case 1:case"end":return e.stop()}}),e)})))()},methods:{getJob:function(t){var e=this;return c()(s.a.mark((function n(){var a;return s.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,d["b"].collection("Jobs").doc(t).get();case 3:a=n.sent,e.viewJob=a.data(),e.viewJob.id=a.id,e.sDateDisplay=x["b"].formatDate(e.viewJob.startDate.toDate(),"MM-DD-YYYY"),e.isLoading=!1,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.error("error: ",n.t0);case 13:e.$store.commit("setCurrentLocation","Job Details");case 14:case"end":return n.stop()}}),n,null,[[0,10]])})))()},apply:function(){var t=this;return c()(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["b"].collection("Jobs").doc(t.viewJob.id).update({applied:g["a"].firestore.FieldValue.arrayUnion(t.sitterKey)});case 3:t.viewJob.applied.push(t.sitterKey),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.error("error: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},unApply:function(){var t=this;return c()(s.a.mark((function e(){return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d["b"].collection("Jobs").doc(t.viewJob.id).update({applied:g["a"].firestore.FieldValue.arrayRemove(t.sitterKey)});case 2:t.viewJob.applied.splice(t.viewJob.applied.indexOf(t.sitterKey),1),t.componentKey+=1;case 4:case"end":return e.stop()}}),e)})))()},convertTime:function(t){return Object(m["a"])(t)}}},y=J,_=Object(b["a"])(y,a,r,!1,null,null,null);e["default"]=_.exports}}]);