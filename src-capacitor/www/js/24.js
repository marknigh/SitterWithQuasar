(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"9c69":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("profile-pic",{attrs:{sitter:e.sitter}}),a("q-input",{attrs:{label:"Username",disable:""},model:{value:e.sitter.email,callback:function(t){e.$set(e.sitter,"email",t)},expression:"sitter.email"}}),a("q-input",{attrs:{label:"Full Name"},model:{value:e.sitter.name,callback:function(t){e.$set(e.sitter,"name",t)},expression:"sitter.name"}}),a("q-input",{attrs:{label:"Address"},model:{value:e.sitter.address,callback:function(t){e.$set(e.sitter,"address",t)},expression:"sitter.address"}}),a("q-input",{attrs:{label:"City"},model:{value:e.sitter.city,callback:function(t){e.$set(e.sitter,"city",t)},expression:"sitter.city"}}),a("q-input",{attrs:{label:"State"},model:{value:e.sitter.state,callback:function(t){e.$set(e.sitter,"state",t)},expression:"sitter.state"}}),a("q-input",{attrs:{label:"Zip"},model:{value:e.sitter.zip,callback:function(t){e.$set(e.sitter,"zip",t)},expression:"sitter.zip"}}),a("q-input",{attrs:{label:"Mobile Phone",mask:"(###) ### - ####","fill-mask":""},model:{value:e.sitter.mobile,callback:function(t){e.$set(e.sitter,"mobile",t)},expression:"sitter.mobile"}}),a("div",{staticClass:"q-pa-md row justify-around"},[a("q-option-group",{attrs:{type:"radio",inline:"",options:e.sexOptions},model:{value:e.sitter.sex,callback:function(t){e.$set(e.sitter,"sex",t)},expression:"sitter.sex"}})],1),a("q-input",{attrs:{"stack-label":"",label:"Birthday"},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"eva-calendar-outline"}},[a("q-popup-proxy",[a("q-date",{model:{value:e.sitter.birthday,callback:function(t){e.$set(e.sitter,"birthday",t)},expression:"sitter.birthday"}})],1)],1)]},proxy:!0}]),model:{value:e.sDate,callback:function(t){e.sDate=t},expression:"sDate"}}),a("q-input",{attrs:{label:"Age",placeholder:"Age",readonly:""},model:{value:e.ageCalculation,callback:function(t){e.ageCalculation=t},expression:"ageCalculation"}}),a("q-select",{attrs:{label:"Grade",radio:"",options:e.gradeOptions},model:{value:e.sitter.grade,callback:function(t){e.$set(e.sitter,"grade",t)},expression:"sitter.grade"}}),a("q-input",{attrs:{label:"School",placeholder:"School"},model:{value:e.sitter.school,callback:function(t){e.$set(e.sitter,"school",t)},expression:"sitter.school"}}),a("div",{staticClass:"q-pa-md row justify-around"},[a("q-checkbox",{staticClass:"col",attrs:{label:"Baby"},model:{value:e.sitter.baby,callback:function(t){e.$set(e.sitter,"baby",t)},expression:"sitter.baby"}}),a("q-checkbox",{staticClass:"col",attrs:{label:"Home"},model:{value:e.sitter.home,callback:function(t){e.$set(e.sitter,"home",t)},expression:"sitter.home"}}),a("q-checkbox",{staticClass:"col",attrs:{label:"Pet"},model:{value:e.sitter.pet,callback:function(t){e.$set(e.sitter,"pet",t)},expression:"sitter.pet"}})],1),a("q-input",{attrs:{type:"text",label:"About Me",placeholder:"About Me",autogrow:""},model:{value:e.sitter.notes,callback:function(t){e.$set(e.sitter,"notes",t)},expression:"sitter.notes"}}),a("q-btn",{staticClass:"full-width q-mt-md",attrs:{color:"primary",label:"Save"},on:{click:function(t){return e.save()}}})],1)},r=[],i=a("a34a"),l=a.n(i),n=(a("96cf"),a("c973")),o=a.n(n),c=a("fc1b"),u=a("bd4c");function p(e){return c["a"].collection("Users").doc(e.id).set(e)}var d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{attrs:{flat:""}},[a("q-card-section",{staticClass:"text-center"},[a("div",{on:{click:function(t){return e.launchPicker()}}},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:e.uploadFieldName},on:{change:function(t){return e.uploadPic(t.target.name,t.target.files)}}}),a("q-avatar",{attrs:{size:"64px"}},[a("img",{attrs:{src:e.sitter.photoURL}})])],1)])],1)},f=[],m=a("e2a3"),b=m["c"].Camera,h={name:"ProfilePic",props:{sitter:{type:Object}},data:function(){return{key:"value",imageSrc:String,loadPic:!1,file:null,uploadFieldName:"file"}},methods:{launchPicker:function(){this.$q.platform.is.mobile?(console.log(this.$q),this.capturePic()):this.$refs.file.click()},capturePic:function(){var e=this;return o()(l.a.mark((function t(){var a,s,r,i;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("capturePic"),t.next=3,b.getPhoto({quality:50,resultType:m["a"].DataUrl,source:m["b"].Camera});case 3:a=t.sent,console.log("image.base64String: ",a),s=a.dataUrl,console.log("file: ",s),r=c["c"].ref(),i=r.child("userImages/"+e.$store.getters.getKey),i.putString(s,"data_url",{contentType:"image/jpg"}).then((function(t){t.ref.getDownloadURL().then((function(t){e.sitter.photoURL=t}))}));case 10:case"end":return t.stop()}}),t)})))()},uploadPic:function(e,t){var a=this;return o()(l.a.mark((function s(){var r,i,n,o,u;return l.a.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return console.log("event: ",e,t),r=event.target.files[0],console.log("file: ",r),i=c["c"].ref(),n=i.child("userImages/"+a.$store.getters.getKey),s.prev=5,s.next=8,n.put(r);case 8:return o=s.sent,s.next=11,o.ref.getDownloadURL();case 11:u=s.sent,a.sitter.photoURL=u,s.next=18;break;case 15:s.prev=15,s.t0=s["catch"](5),console.log("error: ",s.t0);case 18:case"end":return s.stop()}}),s,null,[[5,15]])})))()}}},g=h,v=a("2877"),x=Object(v["a"])(g,d,f,!1,null,"177fad25",null),k=x.exports,y={name:"SitterProfile",data:function(){return{sitter:{},gradeOptions:["5","6","7","8","High School","College"],sexOptions:[{label:"Male",value:"male"},{label:"Female",value:"female"}]}},components:{"profile-pic":k},created:function(){var e=this;return o()(l.a.mark((function t(){var a;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c["a"].collection("Users").doc(e.$store.getters.getKey).get();case 3:a=t.sent,e.sitter=a.data(),e.sitter.id=a.id,e.$store.commit("setCurrentLocation","Your Profile"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("error: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},computed:{sDate:function(){return u["b"].formatDate(this.sitter.birthday,"MM-DD-YYYY")},ageCalculation:function(){var e=Date.now()-new Date(this.sDate).getTime(),t=new Date(e);return Math.abs(t.getUTCFullYear()-1970)}},methods:{save:function(){var e=this;p(this.sitter).then((function(){e.$store.commit("setCurrentUser",e.sitter),e.$q.notify({message:"Your Profile Was Saved",icon:"eva-done-all-outline",position:"center",color:"secondary",timeout:1e3})}))}}},q=y,$=Object(v["a"])(q,s,r,!1,null,null,null);t["default"]=$.exports}}]);